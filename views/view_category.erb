
<style>
/*.center-div
{
  position: absolute;
  margin: auto;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: #ccc;
  border-radius: 3px;
}

.outer-div
{
     padding: 10px;
     text-align: center;
}
.inner-div
{
     display: inline-block;
     padding: 50px;
}*/

</style>



<div> <h3 style="color:#9d9d9d"> <%=@current_category['name']%>  </h3></div>

<!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
<div id="player"></div>

<script>
  // 2. This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);




 var player;
 function onYouTubePlayerAPIReady() {
   player = new YT.Player('player', {
     height: '390',
     width: '640',
    loadPlaylist:{
       listType:'playlist',
       list:<%= @category_video_ids %>,
       index:parseInt(0),
       suggestedQuality:'small'
    },
     events: {
       'onReady': onPlayerReady,
       'onStateChange': onPlayerStateChange
     }
   });
 }
 function onPlayerReady(event) {
   event.target.cuePlaylist(<%= @category_video_ids %>);
 }

 var done = false;
  function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING && !done) {
     // setTimeout(stopVideo, 60000);
       console.log(player.getVideoUrl());

    }
  }
  function stopVideo() {
    player.stopVideo();
  }







</script>
